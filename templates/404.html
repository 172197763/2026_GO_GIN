<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>404 - æ‰¾ä¸åˆ°é¡µé¢</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      background: #f9f9ff;
      min-height: 100vh;
      overflow: hidden;
      position: relative;
      font-family: "Segoe UI", sans-serif;
      cursor: grab;
    }

    canvas {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: 1;
    }

    .content {
      position: relative;
      z-index: 10;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      min-height: 100vh;
      text-align: center;
      padding: 2rem;
      pointer-events: none; /* ä¸é˜»æŒ¡æ‹–æ‹½ */
    }

    h1 {
      font-size: 6rem;
      margin-bottom: 1rem;
      color: #ff6b6b;
      text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
      pointer-events: auto;
    }

    p {
      font-size: 1.5rem;
      color: #555;
      max-width: 600px;
      line-height: 1.6;
      pointer-events: auto;
    }

    a {
      margin-top: 1.5rem;
      padding: 0.6rem 1.5rem;
      background: #4ecdc4;
      color: white;
      text-decoration: none;
      border-radius: 30px;
      font-weight: bold;
      transition: background 0.3s;
      pointer-events: auto;
      display: inline-block;
    }

    a:hover {
      background: #1a535c;
    }

    @media (max-width: 600px) {
      h1 { font-size: 4rem; }
      p { font-size: 1.2rem; }
    }
  </style>
</head>
<body>
  <!-- Matter.js ç”»å¸ƒ -->
  <canvas id="canvas"></canvas>

  <div class="content">
    <h1>404</h1>
    <p>{{.path}} not exist</p>
    <p>å“å‘€ï¼ä½ æ‰è¿›äº†ä¸€ä¸ªå……æ»¡è¡¨æƒ…åŒ…çš„é»‘æ´ ğŸ•³ï¸<br>å¿«æ‹–ä¸€æ‹–å®ƒä»¬å§ï¼</p>
    <a href="/">è¿”å›é¦–é¡µ</a>
  </div>

  <!-- å¼•å…¥ Matter.js -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/matter-js/0.19.0/matter.min.js"></script>
  <script>
    // Emoji åˆ—è¡¨ï¼ˆæ— é‡å¤ï¼‰
    const emojis = [
      'ğŸ‘¾', 'ğŸ¤–', 'ğŸ‘»', 'ğŸ‘½', 'ğŸ¦„', 'ğŸ‰', 'ğŸ™', 'ğŸ¦‘', 'ğŸ¦€',
      'ğŸ¦‹', 'ğŸ', 'ğŸ¦‚', 'ğŸ¢', 'ğŸ¦–', 'ğŸ¦•', 'ğŸ¦§', 'ğŸ¦¥', 'ğŸ¦¦',
      'ğŸ•', 'ğŸ¦', 'ğŸ©', 'ğŸ­', 'ğŸ¿', 'ğŸ·', 'ğŸº', 'ğŸŒ®', 'ğŸ£',
      'âš½', 'ğŸ€', 'ğŸ¯', 'ğŸ²', 'ğŸ®', 'ğŸ•¹ï¸', 'ğŸ¨', 'ğŸ­', 'ğŸª',
      'ğŸš€', 'ğŸ›¸', 'ğŸš—', 'ğŸš²', 'âœˆï¸', 'â›µ', 'ğŸš', 'ğŸš‚',
      'ğŸŒˆ', 'ğŸ”¥', 'ğŸ’§', 'â„ï¸', 'âš¡', 'âœ¨', 'ğŸŒŸ', 'ğŸ’¥', 'ğŸ’«',
      'â¤ï¸', 'ğŸ§¡', 'ğŸ’›', 'ğŸ’š', 'ğŸ’™', 'ğŸ’œ', 'ğŸ–¤', 'ğŸ¤', 'ğŸ¤',
      'ğŸ™ˆ', 'ğŸ™‰', 'ğŸ™Š', 'ğŸ¶', 'ğŸ±', 'ğŸ­', 'ğŸ¹', 'ğŸ°', 'ğŸ¦Š'
    ];

    // åˆå§‹åŒ– Matter.js
    const { Engine, Render, World, Bodies, Body, Mouse, MouseConstraint, Events } = Matter;

    // åˆ›å»ºå¼•æ“
    const engine = Engine.create();
    engine.world.gravity.y = 0.5; // å¾®å¼±é‡åŠ›ï¼Œè®© emoji è½åœ°

    // åˆ›å»ºæ¸²æŸ“å™¨
    const render = Render.create({
      canvas: document.getElementById('canvas'),
      engine: engine,
      options: {
        width: window.innerWidth,
        height: window.innerHeight,
        wireframes: false,
        background: 'transparent'
      }
    });

    // è‡ªé€‚åº”çª—å£å¤§å°
    window.addEventListener('resize', () => {
      render.options.width = window.innerWidth;
      render.options.height = window.innerHeight;
      render.canvas.width = window.innerWidth;
      render.canvas.height = window.innerHeight;
      // æ›´æ–°è¾¹ç•Œå¢™
      World.clear(engine.world, false);
      createWalls();
      placeEmojis();
    });

    // åˆ›å»ºè¾¹ç•Œå¢™ï¼ˆé˜²æ­¢ emoji é£å‡ºå±å¹•ï¼‰
    function createWalls() {
      const w = render.options.width;
      const h = render.options.height;
      const thickness = 50;
      World.add(engine.world, [
        // å·¦å³å¢™ï¼ˆä¸å¯è§ä½†æœ‰ç¢°æ’ï¼‰
        Bodies.rectangle(w / 2, -thickness / 2, w, thickness, { isStatic: true }),
        Bodies.rectangle(w / 2, h + thickness / 2, w, thickness, { isStatic: true }),
        Bodies.rectangle(-thickness / 2, h / 2, thickness, h, { isStatic: true }),
        Bodies.rectangle(w + thickness / 2, h / 2, thickness, h, { isStatic: true })
      ]);
    }

    // åˆ›å»ºå¯æ‹–æ‹½çš„ emoji
    function createEmoji(x, y, char) {
      const size = 30 + Math.random() * 50; // 30~80px
      const body = Bodies.circle(x, y, size / 2, {
        restitution: 0.8,   // å¼¹æ€§
        friction: 0.01,     // æ‘©æ“¦åŠ›å°ï¼Œæ»‘å¾—è¿œ
        frictionAir: 0.005, // ç©ºæ°”é˜»åŠ›å°
        render: {
          sprite: {
            texture: `data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text x='50' y='75' font-size='80' text-anchor='middle'>${encodeURIComponent(char)}</text></svg>`,
            xScale: size / 100,
            yScale: size / 100
          }
        }
      });
      return body;
    }

    // åˆå§‹æ”¾ç½® emojiï¼ˆé¿å…é‡å ï¼‰
    function placeEmojis() {
      const count = Math.min(emojis.length, 60); // æœ€å¤š 60 ä¸ª
      const w = render.options.width;
      const h = render.options.height;
      const placed = [];

      for (let i = 0; i < count; i++) {
        let x, y;
        let attempts = 0;
        const radius = 40; // æœ€å°é—´è·

        do {
          x = radius + Math.random() * (w - 2 * radius);
          y = radius + Math.random() * (h - 2 * radius);
          attempts++;
        } while (
          attempts < 100 &&
          placed.some(pos => Math.hypot(pos.x - x, pos.y - y) < radius)
        );

        placed.push({x, y});
        const emojiBody = createEmoji(x, y, emojis[i]);
        World.add(engine.world, emojiBody);
      }
    }

    // æ·»åŠ é¼ æ ‡æ‹–æ‹½æ”¯æŒ
    const mouse = Mouse.create(render.canvas);
    const mouseConstraint = MouseConstraint.create(engine, {
      mouse: mouse,
      constraint: {
        stiffness: 0.2,
        render: { visible: false }
      }
    });
    World.add(engine.world, mouseConstraint);
    render.mouse = mouse;

    // å¯åŠ¨
    createWalls();
    placeEmojis();
    Render.run(render);
    Engine.run(engine);

    // æç¤ºï¼šæŒ‰ä½æ‹–åŠ¨è¯•è¯•ï¼
  </script>
</body>
</html>